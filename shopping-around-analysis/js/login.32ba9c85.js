(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n(require("ELEMENT"),require("Vue"),require("axios")):"function"===typeof define&&define.amd?define(["ELEMENT","Vue","axios"],n):"object"===typeof exports?exports["shopping-around-analysis-login"]=n(require("ELEMENT"),require("Vue"),require("axios")):e["shopping-around-analysis-login"]=n(e["ELEMENT"],e["Vue"],e["axios"])})(window,(function(e,n,t){return function(e){function n(n){for(var o,a,u=n[0],s=n[1],l=n[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(n);while(p.length)p.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,u=1;u<t.length;u++){var s=t[u];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={login:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/shopping-around-analysis/";var u=window["webpackJsonp_shopping-around-analysis"]=window["webpackJsonp_shopping-around-analysis"]||[],s=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var c=s;return i.push([1,"chunk-vendors"]),t()}({1:function(e,n,t){e.exports=t("352f")},2777:function(e,n,t){"use strict";var o=t("cebe"),r=t.n(o),i=t("6869"),a=r.a.create({withCredentials:!0});a.interceptors.request.use((function(e){for(var n in i["a"].CACHE.token)e.headers[n]=i["a"].CACHE.token[n];return e.data instanceof FormData&&(e.headers["Content-Type"]="application/x-www-form-urlencoded"),e}),(function(e){})),a.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status&&console.log("未登录")})),n["a"]=a},"352f":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("8bbf"),r=t.n(o),i=t("5f72"),a=t.n(i),u=(t("0fae"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:!e.progress.login,expression:" !progress.login "}],staticClass:"login"},[t("el-form-item",[e._v(" 账号 "),t("el-input",{attrs:{size:"mini"},model:{value:e.formLogin.account.value,callback:function(n){e.$set(e.formLogin.account,"value",n)},expression:"formLogin.account.value"}})],1),t("el-form-item",[e._v(" 密码 "),t("el-input",{attrs:{size:"mini"},model:{value:e.formLogin.password.value,callback:function(n){e.$set(e.formLogin.password,"value",n)},expression:"formLogin.password.value"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){return e.login()}}},[e._v(" 登录 ")])],1)],1)],1)}),s=[],l=t("8e44"),c=t("2777"),f=t("6869"),p=new l["a"]({login:function(e,n,t,o){var r=function(e){e?(f["a"].refresh("token","Authorization","Bearer "+e.data.data),o(1),n()):(o(1),t())},i={username:String(e.account.value),password:String(e.password.value)};o(0),c["a"].post("/api-auth/auth/jwt/login",i).then(r)}}),d=p,_={methods:{login:function(){var e=this,n=function(){e.$message.success("登录成功")},t=function(){e.$message.warning("登录失败")},o=function(n){e.progress.login=n};d.login(this.formLogin,n,t,o)}},data:function(){return{progress:{login:1},formLogin:{account:{value:"widash5-cn"},password:{value:"Ww12345678"}}}}},v=_,h=(t("688d"),t("2877")),g=Object(h["a"])(v,u,s,!1,null,null,null),m=g.exports;function b(){r.a.config.productionTip=!1,r.a.use(a.a),b._app=new r.a({render:function(e){return e(m)}}),b._app.$mount("#app")}b()},"5f72":function(n,t){n.exports=e},6869:function(e,n,t){"use strict";var o=t("ade3"),r=t("2909"),i=(t("caad"),t("e9c4"),t("4de4"),t("d3b7"),t("99af"),{role:[],token:{}}),a={},u={};function s(){if((arguments.length<=0?void 0:arguments[0])instanceof Array){for(var e=[],n=0,t=null,o=0;t=i.role[o];o++)e.push.apply(e,Object(r["a"])(u[t]));for(var a=null,l=0;a=l<0||arguments.length<=l?void 0:arguments[l];l++)for(var c=null,f=0;c=a[f];f++)if(e.includes(c)){n++;break}return n===arguments.length}var p,d,_,v=arguments.length<=1?void 0:arguments[1],h=arguments.length<=2?void 0:arguments[2];null!==(p=v.value)&&void 0!==p&&p.length&&!s.apply(void 0,Object(r["a"])(v.value))&&(null===(d=h.componentInstance)||void 0===d||d.$destroy(),null===(_=h.elm.parentNode)||void 0===_||_.removeChild(h.elm))}function l(e){var n,t="V5_ACCESS_CONTROL/dashboard",r="V5_ACCESS_CONTROL/shopping-around-analysis";if(e)if(e!==p){for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];"role"===e?(c(u),localStorage.setItem(r,btoa(JSON.stringify(i)))):(f(Object(o["a"])({},u[0],u[1])),localStorage.setItem(r,btoa(JSON.stringify(i))))}else i.role=[],i.token={},localStorage.removeItem(r);else(n=localStorage.getItem(t))&&(n=JSON.parse(atob(n)),c(n.role),f(n.token)),(n=localStorage.getItem(r))&&(n=JSON.parse(atob(n)),c(n.role),f(n.token))}function c(e){i.role=Array.apply(void 0,Object(r["a"])(i.role).concat(Object(r["a"])(e))).filter((function(e,n,t){return t.indexOf(e)===n}))}function f(e){Object.assign(i.token,e)}function p(){l(p)}n["a"]={CACHE:i,VALUE:a,vPower:s,refresh:l,clear:p}},"688d":function(e,n,t){"use strict";t("c095")},"8bbf":function(e,t){e.exports=n},"8e44":function(e,n,t){"use strict";var o=t("2909"),r=t("d4ec"),i=t("bee2"),a=t("4a2e"),u=t.n(a),s=t("e9d0"),l=t.n(s),c=function(){function e(n){for(var t in Object(r["a"])(this,e),this._httpCache={},this._httpRefer={},n)n[t]instanceof e?this.extra(t,n[t]):this[t]=n[t]}return Object(i["a"])(e,[{key:"extra",value:function(e,n){var t,o=this[e]={};for(t in n)"function"===typeof n[t]&&(o[t]=n[t].bind(this))}},{key:"unite",value:function(e){if(!e._$_uniteFn_$_){var n=function(n,t){e._$_uniteResponse_$_[n]=t,--e._$_uniteCount_$_?e(n,e._$_uniteCount_$_):(e.apply(void 0,Object(o["a"])(e._$_uniteResponse_$_)),delete e._$_uniteFn_$_,delete e._$_uniteCount_$_,delete e._$_uniteResponse_$_)};e._$_uniteFn_$_=n,e._$_uniteCount_$_=0,e._$_uniteResponse_$_=[]}return e._$_uniteFn_$_.bind(this,e._$_uniteCount_$_++)}},{key:"requestAndCache",value:function(e,n,t,o){var r=this;u()(this._httpRefer[e],n)?o(this._httpCache[e]):t().then((function(t){r._httpCache[e]=t,r._httpRefer[e]=l()(!0,{},n),o(t)}))}},{key:"urlSearchParam",value:function(e){var n,t="?";for(n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t}},{key:"formData",value:function(e){var n,t=new FormData;for(n in e)t.append(n,e[n]);return t}}]),e}();n["a"]=c},c095:function(e,n,t){},cebe:function(e,n){e.exports=t}})}));