(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("Vue"),require("axios")):"function"===typeof define&&define.amd?define(["Vue","axios"],e):"object"===typeof exports?exports["portal-auth-editor-portal__MLogin"]=e(require("Vue"),require("axios")):t["portal-auth-editor-portal__MLogin"]=e(t["Vue"],t["axios"])})(window,(function(t,e){return function(t){function e(e){for(var n,a,s=e[0],l=e[1],p=e[2],c=0,f=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,p||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={portal__MLogin:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp_portal-auth-editor"]=window["webpackJsonp_portal-auth-editor"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var u=l;return r.push([2,"chunk-vendors","chunk-common"]),o()}({"03e1":function(t,e,o){"use strict";o("9aa3")},"03f2":function(t,e,o){},"1bd5":function(t,e,o){"use strict";o("e6d7")},2:function(t,e,o){t.exports=o("2d85")},"277e":function(t,e,o){},"2d85":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("0fae"),o("be35"),o("2cbf");var n,i=o("8bbf"),r=o.n(i),a=o("0712"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.ready?o("div",{staticClass:"portal"},[t.view.backdrop?o("portal-component__backdrop",t._b({ref:"backdrop"},"portal-component__backdrop",t.$t(t.view.backdrop),!1)):t._e(),o("div",{ref:"main",staticClass:"portal-main"},[t.view.images?o("portal-component__images",t._b({ref:"images"},"portal-component__images",t.$t(t.view.images),!1)):t._e(),t.view.form?o("portal-component__form",t._b({ref:"form"},"portal-component__form",t.$t(t.view.form),!1),[t.view.header?o("portal-component__header",t._b({ref:"header",attrs:{slot:t.headerSlot},slot:t.headerSlot},"portal-component__header",t.$t(t.view.header),!1)):t._e(),o("template",{slot:"fast-start"},[t.view.form.default.foot.loginWithTheMiniProgram&&t.view.form.fastStart.enable&&t.view.form.fastStart.show?o("portal-component__form-item",[o("portal-component__input-button",{staticClass:"wechat-mini-program",attrs:{type:"primary"}},[o("i",{staticClass:"iconfont __wechat-mini-program__hollow"}),t._v(" "+t._s(t.$t("使用小程序登录"))+" ")]),o("portal-component__input-button",{attrs:{type:"text"},on:{click:function(){t.view.form.fastStart.show=!1,t.viewAdjust("form.height","footer.position.top")}}},[t._v(" "+t._s(t.$t("切换登录方式"))+" ")]),t.changeLanguage?o("portal-component__input-button",{attrs:{type:"text"},on:{click:function(e){return t.$changeLanguage()}}},[t._v(" "+t._s(t.$t(t.changeLanguage))+" ")]):t._e()],1):t._e()],1),[t._l(t.$t(t.view.form.default.item),(function(e,n){return o("portal-component__form-item",{key:t.language+e.key+n},[o("portal-component__form-input",t._b({ref:"formInput",refInFor:!0,on:{input:function(o,i){i?"mode.int-11"===e.key?t.view.form.default.item[n].input.children[0].value=o:"protocol"===e.key&&(t.view.form.default.item[n].input.children[i.key].value=o):t.view.form.default.item[n].input.value=o}}},"portal-component__form-input",e.input,!1)),e.error?o("template",{slot:"error"},[t._v(" "+t._s(e.error)+" ")]):e.text?o("template",{slot:"text"},[t._v(" "+t._s(e.text)+" ")]):t._e()],2)})),o("portal-component__form-item",[o("portal-component__input-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("登录"))+" ")]),t.changeLoginMode?o("portal-component__input-button",{attrs:{type:"text"},on:{click:function(e){return t.$changeLoginMode()}}},[t._v(" "+t._s(t.$t(t.changeLoginMode))+" ")]):t._e(),t.changeLanguage?o("portal-component__input-button",{attrs:{type:"text"},on:{click:function(e){return t.$changeLanguage()}}},[t._v(" "+t._s(t.$t(t.changeLanguage))+" ")]):t._e()],1),o("portal-component__form-foot",[t.view.form.default.foot.loginWithTheMiniProgram?o("portal-component__input-button",{attrs:{type:"text"}},[o("i",{staticClass:"iconfont __wechat-mini-program"}),t._v(" "+t._s(t.$t("使用小程序登录"))+" ")]):t._e()],1)]],2):t._e(),t.view.footer?o("portal-component__footer",t._b({ref:"footer"},"portal-component__footer",t.$t(t.view.footer),!1)):t._e()],1),o("portal-component__popover",{attrs:{"close-on-click-modal":""},model:{value:t.view.popover.protocol.value,callback:function(e){t.$set(t.view.popover.protocol,"value",e)},expression:"view.popover.protocol.value"}},[o("template",{slot:"header"},[t._v(" "+t._s(t.$t(t.PROTOCOL.header,t.view.popover.protocol.index))+" ")]),[o("div",{staticClass:"ql-editor",domProps:{innerHTML:t._s(t.$t(t.PROTOCOL.body,t.view.popover.protocol.index))}})]],2),o("portal-component__popover",{attrs:{"close-on-click-modal":""},model:{value:t.view.popover.changeLoginMode,callback:function(e){t.$set(t.view.popover,"changeLoginMode",e)},expression:"view.popover.changeLoginMode"}},[o("template",{slot:"header"},[t._v(" "+t._s(t.$t("切换登录方式"))+" ")]),t._l(t.form.mode.data,(function(e,n){return o("portal-component__input-checkbox",{key:n,attrs:{value:n===t.form.mode.value},on:{input:function(e){return t.$changeLoginMode(n)}}},[t._v(" "+t._s(t.$t(t.form.mode.keyName[e[0].key]))+" ")])}))],2)],1):t._e()},l=[],p=(o("99af"),o("7db0"),o("caad"),o("fb6a"),o("4d63"),o("ac1f"),o("25f0"),o("2532"),o("841c"),o("2909")),u=o("5530"),c=o("e9d0"),f=o.n(c),h=o("bee1"),d=o("1207"),m=o("6557"),_=o("0769"),v=o("b647"),g=o("bc4e"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__header",class:{__column:t.__column,__circle:t.__circle},style:{left:t.left,right:t.right,top:t.top,transform:t.transform}},[t.logo.src?o("div",{staticClass:"portal-component__header__logo",style:{width:(t.logo.size-40)/750*100+"vw",height:t.logo.size/750*100+"vw"}},[o("img",{attrs:{src:t.$imageURL(t.logo.src),draggable:"false"}})]):t._e(),t.text[0]?o("div",{staticClass:"portal-component__header__text"},[o("div",{key:t.text[0].value,staticClass:"at__text",style:{color:t.text[0].color},attrs:{"data-value":t.text[0].value}}),t.text[1]?o("div",{key:t.text[1].value,staticClass:"at__subtext",style:{color:t.text[1].color},attrs:{"data-value":t.text[1].value}}):t._e()]):t._e()])},y=[],w={props:{position:{type:Object},logo:{type:Object},text:{type:Array}},computed:{__column:function(){if("top"===this.logo.position||!this.logo.src)return!0},__circle:function(){if("circle"===this.logo.shape)return!0},left:function(){if(this.position)return"number"===typeof this.position.left?this.position.left/750*100+"vw":this.position.left},right:function(){if(this.position)return"number"===typeof this.position.right?this.position.right/750*100+"vw":this.position.right},top:function(){if(this.position)return"number"===typeof this.position.top?this.position.top/750*100+"vw":this.position.top},transform:function(){if(this.position)return"translate("+("number"===typeof this.position.left||"auto"===this.position.left?"0":"-50%")+", "+("number"===typeof this.position.top?"0":"-50%")+")"}},data:function(){return{}}},$=w,k=(o("553e"),o("2877")),x=Object(k["a"])($,b,y,!1,null,"3e959935",null),C=x.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._t("header"),o("div",{ref:"form",staticClass:"portal-component__form",class:{"__fast-start":t.$slots["fast-start"]},style:{left:t.left,top:t.top,transform:t.transform}},[t._t("relative-header"),t.$slots["fast-start"]?t._t("fast-start"):t._t("default")],2)],2)},L=[],j={props:{position:{type:Object}},computed:{left:function(){if(this.position)return"number"===typeof this.position.left?this.position.left/750*100+"vw":this.position.left},top:function(){if(this.position)return"number"===typeof this.position.top?this.position.top/750*100+"vw":this.position.top},transform:function(){if(this.position)return"translate("+("number"===typeof this.position.left?"0":"-50%")+", "+("number"===typeof this.position.top?"0":"-50%")+")"}},methods:{$height:function(){return this.$refs.form.offsetHeight/(document.body.clientWidth/750)},$heightPlusTop:function(){var t=document.body.clientWidth/750,e=this.$refs.form.offsetHeight/t,o=40;return"number"===typeof this.position.top?o=this.position.top:this.$slots["header"]?o+=this.$slots["header"][0].elm.offsetHeight/t:this.$slots["relative-header"]&&(o+=this.$slots["relative-header"][0].elm.offsetHeight/t),e+o},positionTop50:function(){var t=this,e=document.body.clientWidth/750,o=40;return this.$slots["header"]?o+=this.$slots["header"][0].elm.offsetHeight/e:this.$slots["relative-header"]&&(o+=this.$slots["relative-header"][0].elm.offsetHeight/e),this.positionTop50=function(){var n=(document.body.clientHeight/2-t.$refs.form.offsetHeight/2)/e;t.position.top=n-o<0?o:"50%"}}},mounted:function(){"50%"===this.position.top?window.addEventListener("resize",this.positionTop50()):this.positionTop50=function(){}},data:function(){return{}}},E=j,M=(o("b000"),Object(k["a"])(E,O,L,!1,null,"26d6ec3e",null)),S=M.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__form-item",class:{__error:t.$slots.error}},[o("div",{staticClass:"at__input"},[t._t("default")],2),t.$slots.error?o("div",{staticClass:"at__text"},[t._t("error")],2):t.$slots.text?o("div",{staticClass:"at__text"},[t._t("text")],2):t._e()])},I=[],T={data:function(){return{}}},N=T,B=(o("b2b8"),Object(k["a"])(N,P,I,!1,null,"311c8780",null)),A=B.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(t._element,t._b({ref:"component",tag:"component",attrs:{value:t.value},on:{mounted:function(){t.$addEventListener()},input:function(e){t._emit("input",e)},change:function(e){t._emit("change",e)}}},"component",t.$attrs,!1),[t._l(t._children,(function(e){return["object"===typeof e?[o("portal-component__form-input",t._b({attrs:{slot:e.slot,value:e.value},on:{input:function(o){t._emit("input",o,e)},change:function(o){t._emit("change",o,e)}},slot:e.slot},"portal-component__form-input",e,!1))]:"string"===typeof e?[t._v(" "+t._s(e)+" ")]:t._e()]}))],2)},V=[],H=(o("a9e3"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__input-text",class:{"__all-in-one":t.allInOne}},[t._t("before"),o("div",{staticClass:"portal-component__input-text__inner"},[o("input",{ref:"input",attrs:{autocomplete:"new-password",type:t.type,placeholder:t.placeholder,readonly:t.readonly},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)},change:function(e){t.$emit("change",e.target.value)}}}),t._t("after")],2)],2)}),q=[],R={props:{value:{type:String},placeholder:{type:String},readonly:{type:Boolean},password:{type:Boolean},allInOne:{type:Boolean}},computed:{type:function(){return this.password?"password":"text"}},mounted:function(){this.$emit("mounted")},data:function(){return{}}},W=R,z=(o("550f"),Object(k["a"])(W,H,q,!1,null,"41987388",null)),F=z.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__input-picker"},[o("div",{staticClass:"portal-component__input-picker__inner"},[o("input",{ref:"input",attrs:{autocomplete:"off",readonly:"",placeholder:t.placeholder},domProps:{value:t.pickedOption&&t.pickedOption.label}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropList,expression:" showDropList "}],ref:"dropList",staticClass:"portal-component__input-picker__drop-list",class:t.dropListClass},[o("div",{on:{click:function(t){t.stopPropagation()}}},[t.filterable?o("div",{staticClass:"at__filter"},[o("input",{ref:"filterInput",attrs:{placeholder:t.filterPlaceholder},on:{input:function(e){t.$emit("filter",e.target.value)}}})]):t._e(),o("div",{staticClass:"at__slot"},[t._t("default")],2)])])])},J=[],K={props:{value:{type:[String,Number,Boolean]},placeholder:{type:String},filterPlaceholder:{type:String},readonly:{type:Boolean},filterable:{type:Boolean},dropListClass:{type:String}},computed:{option:function(){var t=function t(e){for(var o=[],n=null,i=0;n=e[i];i++)n.isInputOptionComponent?o.push(n):n.$children.length&&(o=o.concat(t(n.$children)));return o};return t(this.$children)}},methods:{init:function(){for(var t=null,e=0;t=this.option[e];e++)t.value===this.value&&(this.pickedOption=t,this.pickedOption.$el.classList.add("__picked"),this.hoverOption=t,this.hoverOption.$el.classList.add("__hover"))},handleEvent_showDropList:function(t){var e=this;this._isDestroyed||this.readonly||(t.target===this.$refs.input?(this.pickedOption&&setTimeout((function(){e.pickedOption.$el.scrollIntoView({block:"center"}),e.pickedOption.$el.focus()})),this.$emit("filter",this.$refs.filterInput.value=""),this.showDropList=!0):this.showDropList=!1)},handleEvent_picked:function(t){this.pickedOption&&this.pickedOption.$el.classList.remove("__picked"),this.pickedOption=t,this.pickedOption.$el.classList.add("__picked"),this.$emit("input",t.value),this.$emit("change",t.value),document.dispatchEvent(new Event("click"))},handleEvent_hover:function(t){this.hoverOption&&this.hoverOption.$el.classList.remove("__hover"),this.hoverOption=t,this.hoverOption.$el.classList.add("__hover")}},mounted:function(){document.addEventListener("click",this.handleEvent_showDropList),this.$on("picked",this.handleEvent_picked),this.$on("hover",this.handleEvent_hover),this.$root.$el.appendChild(this.$refs.dropList),this.init(),this.$emit("mounted")},beforeDestroy:function(){document.removeEventListener("click",this.handleEvent_showDropList),this.$root.$el.removeChild(this.$refs.dropList)},data:function(){return{isInputOptionParent:!0,showDropList:!1,pickedOption:null,hoverOption:null}}},U=K,Q=(o("1bd5"),Object(k["a"])(U,G,J,!1,null,"49f86087",null)),X=Q.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:" show "}],staticClass:"portal-component__input-option",on:{click:function(e){return t.parentEmit("picked","hover")}}},[t.$slots.default?[t._t("default")]:[t._v(" "+t._s(t.label)+" ")]],2)},Z=[],tt=(o("c975"),{props:{value:{type:[String,Number,Boolean]},label:{type:String}},computed:{parent:function(){for(var t=this.$parent;t;t=t.$parent)if(t.isInputOptionParent)return t},_label:function(){if(this.$slots.default){for(var t="",e=null,o=0;e=this.$slots.default[o];o++)t+=e.elm.innerText.toLowerCase();return t}return this.label.toLowerCase()}},methods:{parentEmit:function(){for(var t=null,e=0;t=e<0||arguments.length<=e?void 0:arguments[e];e++)this.parent.$emit(t,this)}},mounted:function(){var t=this;this.parent.$on("filter",(function(e){t.show=-1!==t._label.indexOf(e.toLowerCase())}))},data:function(){return{isInputOptionComponent:!0,show:!0}}}),et=tt,ot=Object(k["a"])(et,Y,Z,!1,null,null,null),nt=ot.exports,it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__input-option-group"},[o("div",{staticClass:"at__header"},[t._v(" "+t._s(t.label)+" ")]),o("div",{staticClass:"at__body"},[t._t("default")],2)])},rt=[],at={props:{label:{type:String}},data:function(){return{}}},st=at,lt=Object(k["a"])(st,it,rt,!1,null,null,null),pt=lt.exports,ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portal-component__input-checkbox"},[o("label",[o("input",{ref:"input",attrs:{type:"checkbox"},on:{click:function(){t.$refs.input.checked=t.value,t.$emit("input",!t.value)}}}),t._t("default")],2)])},ct=[],ft={props:{value:{type:Boolean}},watch:{value:function(){this.$refs.input.checked=this.value}},mounted:function(){this.$refs.input.checked=this.value,this.$emit("mounted")},data:function(){return{}}},ht=ft,dt=(o("5dfb"),Object(k["a"])(ht,ut,ct,!1,null,"770149b8",null)),mt=dt.exports,_t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"portal-component__input-button",class:{__primary:t.__primary,__success:t.__success,__text:t.__text},attrs:{disabled:t.disabled},on:{click:function(){t.$emit("click")}}},[t._t("default")],2)},vt=[],gt={props:{type:{type:String},disabled:{type:Boolean}},computed:{__primary:function(){return"primary"===this.type},__success:function(){return"success"===this.type},__text:function(){return"text"===this.type}},mounted:function(){this.$emit("mounted")},data:function(){return{}}},bt=gt,yt=(o("6038"),Object(k["a"])(bt,_t,vt,!1,null,"5f0347aa",null)),wt=yt.exports,$t={name:"portalComponent__formInput",components:{portalComponent__inputText:F,portalComponent__inputPicker:X,portalComponent__inputOption:nt,portalComponent__inputOptionGroup:pt,portalComponent__inputCheckbox:mt,portalComponent__inputButton:wt},props:{element:{type:String},value:{type:[String,Number,Boolean]},children:{type:[String,Object,Array]}},computed:{_element:function(){switch(this.element){case"text":return"portalComponent__inputText";case"picker":return"portalComponent__inputPicker";case"option":return"portalComponent__inputOption";case"option-group":return"portalComponent__inputOptionGroup";case"checkbox":return"portalComponent__inputCheckbox";case"button":return"portalComponent__inputButton";default:return this.element}},_children:function(){return(new Array).concat(this.children)}},methods:{_emit:function(t,e,o){e instanceof Event||this.$emit(t,e,o)},$addEventListener:function(){for(var t in this.$attrs)"function"===typeof this.$attrs[t]&&this.$refs.component.$on(t,this.$attrs[t])}},data:function(){return{}}},kt=$t,xt=Object(k["a"])(kt,D,V,!1,null,null,null),Ct=xt.exports,Ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.$slots.default?o("div",{staticClass:"portal-component__form-foot"},[t._t("default")],2):t._e()},Lt=[],jt={data:function(){return{}}},Et=jt,Mt=(o("438a"),Object(k["a"])(Et,Ot,Lt,!1,null,"2ea99d1a",null)),St=Mt.exports,Pt=o("8b28"),It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.value?o("div",{staticClass:"portal-component__popover",on:{click:function(){t.closeOnClickModal&&t.$emit("input",!1)}}},[o("div",{style:{left:t.left,top:t.top,transform:t.transform},on:{click:function(t){t.stopPropagation()}}},[t.$slots.header?o("div",{staticClass:"portal-component__popover__header"},[t._t("header")],2):t._e(),o("div",{staticClass:"portal-component__popover__body"},[t._t("default")],2),t.$slots.footer?o("div",{staticClass:"portal-component__popover__footer"},[t._t("footer")],2):t._e()])]):t._e()},Tt=[],Nt={props:{value:{type:Boolean},closeOnClickModal:{type:Boolean},position:{type:Object}},computed:{left:function(){if(this.position)return"number"===typeof this.position.left?this.position.left/750*100+"vw":this.position.left},top:function(){if(this.position)return"number"===typeof this.position.top?this.position.top/750*100+"vw":this.position.top},transform:function(){if(this.position)return"translate("+("number"===typeof this.position.left?"0":"-50%")+", "+("number"===typeof this.position.top?"0":"-50%")+")"}},data:function(){return{}}},Bt=Nt,At=(o("ddaf"),Object(k["a"])(Bt,It,Tt,!1,null,"0ee7ed33",null)),Dt=At.exports,Vt={mixins:[d["a"],m["a"],_["a"]],components:{portalComponent__backdrop:v["a"],portalComponent__images:g["a"],portalComponent__header:C,portalComponent__form:S,portalComponent__formItem:A,portalComponent__formInput:Ct,portalComponent__formFoot:St,portalComponent__inputCheckbox:mt,portalComponent__inputButton:wt,portalComponent__footer:Pt["a"],portalComponent__popover:Dt},computed:{headerSlot:function(){return this.view.header.position.relative?"relative-header":"header"},changeLoginMode:function(){var t;return 1===(t=this.form.mode).data.length?"":t.data.length>2?"切换登录方式":"切换到"+t.keyName[t.data[t.value?0:1][0].key]+"登录"},changeLanguage:function(){var t;return 1===(t=this.i18n.language).data.length?"":t.data.length>2?"切换语言":"切换到"+t.data[t.value?0:1].label}},methods:{$changeLoginMode:function(t){void 0===t&&2===this.form.mode.data.length&&(t=0===this.form.mode.value?1:0),void 0!==t?(this.view.popover.changeLoginMode=!1,this.form.mode.value=t,this.initView_formItem(),this.viewAdjust("form.height","footer.position.top")):this.view.popover.changeLoginMode=!0},$changeLanguage:function(t){void 0===t&&2===this.i18n.language.data.length&&(t=0===this.i18n.language.value?1:0),void 0!==t?(this.view.popover.changeLanguage=!1,this.i18n.language.value=t,this.initView_formItem(),this.viewAdjust("form.height","footer.position.top"),this.pagePostMessage("i18n.language.value",this.i18n.language.value)):this.view.popover.changeLanguage=!0},initI18n:function(){for(var t=this,e=function(e,o,n){t.i18n.language.data.push(Object(u["a"])({},e.data.find((function(t){return t.value===o}))))},o=n.form["0"].i18n.language,i=null,r=0;i=o.value[r];r++)e(o,i,r);f()(!0,this.i18n,n.preview.MLogin.i18n)},initForm:function(){var t,e,o=n.form;o["13"].form.enable.modes.value||(t=1),o["13"].form.enable.extra.value||(e=0),this.form.mode.keyName=f()(!0,{},o["131"].form.mode.keyName),this.form.mode.data=f()(!0,[],o["131"].form.mode.value.slice(0,t)),this.form.extra=f()(!0,[],o["132"].form.extra.value.slice(0,e))},initView:function(){var t=n.layer.page.data[0].component,e=n.preview.MLogin,o=n.form;t.backdrop.enable&&this.$set(this.view,"backdrop",f()(!0,{},e.backdrop)),t.images.enable&&this.$set(this.view,"images",f()(!0,{},e.images)),t.header.enable&&this.$set(this.view,"header",f()(!0,{},e.header)),t.footer.enable&&this.$set(this.view,"footer",f()(!0,{},e.footer)),this.$set(this.view,"form",{position:Object(u["a"])({},e.form.position),fastStart:{enable:t.form_fastStart.enable,show:!0},default:{foot:Object(u["a"])({},e.form.default.foot)}}),2===o["11"].formAt.value&&(this.view.form.position.top="50%")},initView_formItem:function(){var t=this,e=["11"],o=["11","14"],i=["11","12","13","14","15","21","31","32"],r=["24"],a=function(e,o,n){return{key:e,input:{element:"text",value:"",placeholder:o,allInOne:!0,children:[{slot:"before",element:"picker",value:"",placeholder:"国际区号",filterPlaceholder:"输入 “关键词” 可以筛选列表",filterable:!0,class:"__int-code",dropListClass:"__int-code",children:t.INT_CODE_OPTION},{slot:"after",element:"button",type:"text",children:"获取验证码"}]},text:n}},s=function(t,e,o){return{key:t,input:{element:"text",value:"",placeholder:e,children:{slot:"after",element:"button",type:"text",children:"获取验证码"}},text:o}},l=function(t,e,o,n){return{key:t,input:{element:"text",value:"",placeholder:e,password:n},text:o}},u=function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];return{key:t,input:{element:"div",children:[].concat(o)}}},c=function(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),i=2;i<o;i++)n[i-2]=arguments[i];return{key:t,element:"checkbox",value:e,children:{element:"div",children:[{element:"span",children:"同意"}].concat(n)}}},f=function(t,e,o){return{key:t,element:"button",type:"text",click:o,children:"《"+e+"》"}},h=function(){for(var p=[],u=t.form.mode,c=t.form.mode.data[t.form.mode.value],f=t.language,h=t.internationalDownlinkSMS&&n.form["13"].form.enable.internationalDownlinkSMS.value,d=Boolean(c.find((function(t){return"21"===t.key}))),m=null,_=0;m=c[_];_++)switch(!0){case"zh-CN"!==f&&h&&d&&e.includes(m.key):p.push(a("mode.int-"+m.key,"请输入"+u.keyName[m.key]));break;case d&&o.includes(m.key):p.push(s("mode."+m.key,"请输入"+u.keyName[m.key]));break;case i.includes(m.key):p.push(l("mode."+m.key,"请输入"+u.keyName[m.key]));break;case r.includes(m.key):p.push(l("mode."+m.key,"请输入"+u.keyName[m.key],"",!0));break}return p},d=function(){for(var e=[],o=t.form.extra,n=null,i=0;n=o[i];i++)e.push(l("extra."+n.key,n.placeholder,n.rule.text));return e},m=function(){for(var e,o,n,i,r=[],a=_(),s=t.i18n.protocol,l=null,h=0;l=a[h];h++){for(e=[],n=0;o=l.item[n];n++)i=function(e){t.view.popover.protocol.index=e,t.view.popover.protocol.value=!0},e.push(f(o,s[o][t.language].header,i.bind(t,o)));r.push(c.apply(void 0,[h,l.setting.includes("CHECKED")].concat(Object(p["a"])(e))))}return[u.apply(void 0,["protocol"].concat(r))]},_=function(){for(var e,o,n=[],i=t.i18n.protocol,r=null,a=0;r=i[a];a++){for(o=0;e=n[o];o++)if(v(e,r))break;o<n.length?n[o].item.push(String(a)):n.push({setting:Object(p["a"])(r.setting),item:[String(a)]})}return n},v=function(t,e){if(t.setting.length===e.setting.length&&t.item.length<2){for(var o=null,n=0;o=e.setting[n];n++){if("SINGLE"===o)return;if(!t.setting.includes(o))return}return!0}};this.initView_formItem=function(){t.$set(t.view.form.default,"item",[].concat(Object(p["a"])(h()),Object(p["a"])(d()),Object(p["a"])(m())))},this.initView_formItem()},viewAdjust:function(){var t=this,e={"form.height":function(){t.$nextTick((function(){return t.$refs.form.positionTop50()}))},"footer.position.top":function(){t.view.footer&&t.$nextTick((function(){t.view.footer.position.top=t.$refs.form.$heightPlusTop(),t.$nextTick((function(){t.$refs.footer.height()}))}))}};this.viewAdjust=function(){for(var t=null,o=0;t=o<0||arguments.length<=o?void 0:arguments[o];o++)e[t]&&e[t]()},this.viewAdjust.apply(this,arguments)},pageInit:function(t,e){var o=this;n=t,this.initI18n(),this.initForm(),this.initView(),this.initView_formItem(),this.$nextTick((function(){o.viewAdjust("form.height","footer.position.top")})),e&&this.$skin(e.value[0],e.value[1]),this.ready=!0},pageParam:function(){var t={},e=window.location.search.substring(1);if(e)for(var o=/([^&=]+)=([^&$]+)/g;o.test(e);)t[RegExp.$1]=RegExp.$2;return t},pageMessage:function(t){var e=t.data;switch(e[0]){case"value-and-skin":this.pageInit(e[1],e[2]);break;case"i18n.language.value":this.i18n.language.value=e[1],this.initView_formItem(),this.viewAdjust("form.height","footer.position.top");break;case"skin":this.$skin(e[1],e[2]);break}},pagePostMessage:function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];opener&&!opener.closed?opener.postMessage(e,"*"):parent===window||parent.closed||parent.postMessage(e,"*")}},created:function(){var t=this,e=this.pageParam();e.conf_id?h["a"].get(e.conf_id,(function(e,o){window.addEventListener("message",t.pageMessage),t.pageInit(e,o)})):(window.addEventListener("message",this.pageMessage),this.pagePostMessage("value-and-skin"))},data:function(){return{ready:!1,i18n:{language:{value:0,data:[]}},form:{mode:{value:0,data:[],keyName:{}},extra:[]},view:{popover:{protocol:{value:!1,index:0},changeLoginMode:!1,changeLanguage:!1}}}}},Ht=Vt,qt=(o("03e1"),Object(k["a"])(Ht,s,l,!1,null,null,null)),Rt=qt.exports;r.a.config.productionTip=!1,r.a.mixin(a["a"]),window.portal=new r.a({render:function(t){return t(Rt)}}),window.portal.$mount(".portal")},"438a":function(t,e,o){"use strict";o("aa51")},"550f":function(t,e,o){"use strict";o("e443")},"553e":function(t,e,o){"use strict";o("93ee")},"5dfb":function(t,e,o){"use strict";o("277e")},6038:function(t,e,o){"use strict";o("7489")},7489:function(t,e,o){},"8bbf":function(e,o){e.exports=t},"93ee":function(t,e,o){},"9aa3":function(t,e,o){},aa51:function(t,e,o){},b000:function(t,e,o){"use strict";o("cd4f")},b2b8:function(t,e,o){"use strict";o("bc29")},bc29:function(t,e,o){},cd4f:function(t,e,o){},cebe:function(t,o){t.exports=e},ddaf:function(t,e,o){"use strict";o("03f2")},e443:function(t,e,o){},e6d7:function(t,e,o){}})}));